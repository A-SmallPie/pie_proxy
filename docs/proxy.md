代理设计目标：
    维持一个后端的keep alive连接池，避免反复建立连接
    零拷贝转发，直接在内核态转发数据，避免内核-用户态拷贝
    流量分析，实时统计各个连接转吞吐量和延迟
    多协议支持（HTTP/HTTPS SOCKS5双协议代理）
    无缝迁移，代理定期检查连接是否健康，如果是服务端-代理断开连接则将连接迁移到其他能工作的服务端

代理实现步骤：
    先实现纯转发，再实现协议识别（解析http协议头，根据头来决定怎么处理后面的数据）
    代理服务器架构：仍然是多eopll实例
        主进程：监管资源
        worker进程：监听端口，ac连接后建立connection类（目标相同的话应该首先尝试复用已经建立的连接）放在任务队列，维护连接状态
        worker进程的io线程：负责监听epoll，处理具体的逻辑（需要任务队列）连接类在建立的时候需要给他传父线程的指针或者引用，这样就能访问
        其他设计都和服务器类似，比如还是需要将资源抽象出来在运行时传给连接类或者任务类，是不是需要实现一个基类，让不同的资源类去继承？

遇到的技术问题：
    设计代理端连接类的时候，是两边都封装起来，还是把两个连接封装在一起？
    需不需要对服务端隐藏客户端的ip地址？

更牛逼的目标：
    动态陆游，根据不同的域名请求把请求路由到不同的后端
    抗DDos：实现SYN Cokkie速率限制