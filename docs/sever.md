服务端开发文档

服务端现有的逻辑：
    主线程ac连接，创建连接对象交给线程池里面的线程，（放在线程专用的连接队列里面），线程从连接队列里面取出来连接对象加入epoll监听，连接类处理手法数据等操作，连接类如果发现需要关闭连接，会通过工作线程的回调函数通知工作线程关闭fd，移除监听，但是不知道怎么销毁连接对象自身

初版设计目标：
    主线程ac连接，交给连接池里面的工作线程处理
    工作线程每个线程都有一个epoll实例管理连接（初期没有代理，直接管理客户端连接）

设计目标迭代第一次：
    主线程怎么把连接交给工作线程处理？答：任务队列
    设计任务队列，主线程把ac的fd放在任务队列，工作线程在任务队列里抢任务

设计目标迭代第二次：
    工作线程抢任务，势必会因为频繁加锁解锁造成巨大性能开销，不好
    改成每个工作线程独享任务队列，这样还能方便后期实现线程之间的偷任务，实现服务端自动负载均衡

设计目标迭代第三次：
    工作线程没法获取建立连接的客户端信息
    添加连接的包装，在封装的连接类里面取得信息
    并且将工作线程处理客户端信息的逻辑转移到连接类里面

设计目标迭代第四次：
    连接类发现需要关闭连接，但是不知道在那里销毁自身，因为在这个回调里绝对不能直接销毁调用回调的这个对象，所以只能设计连接池，连接类需要关闭连接的时候通过回调通知工作线程取消监听fd并关闭fd，然后将连接对象归还连接池。连接池统一销毁连接类

设计目标迭代第五次：
    因为服务端必须使用连接池，而且需要避免双重池花，所以服务端不能用连接池了，需要其他方法让连接类销毁自身。（用智能指针/RAII很容易就能实现，但是我暂时不想用）
    在连接类上再套一层，实现类：任务，连接队列改称任务队列，连接类发现需要关闭连接的时候通知工作线程移除连接，并把销毁连接的任务插入到任务队列
    工作线程每次循环弹出来k个任务

最终迭代目标：
    实现无锁队列，实现超级性能！

